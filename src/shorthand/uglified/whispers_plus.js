wspr.state_report=e=>{var s,r,t={x:e.x,topics:{},subscribers:{}};for([s,r]of Object.entries(e.T)){t.topics[s]={events_total:r.C,subscribers_with_errors:[]};let e=0;for(var[c,i]of Object.entries(r.e)){e+=i.N?0:1;for(var[n,b]of Object.entries(i.W))!b.G&&b.L&&t.topics[s].subscribers_with_errors.push(n),b.G||(t.subscribers[n]=t.subscribers[n]||{},t.subscribers[n][s]=t.subscribers[n][s]||{unprocessed_events:0,exceptions:{}},t.subscribers[n][s].unprocessed_events++,b.exceptions&&(t.subscribers[n][s].exceptions[b.L]=t.subscribers[n][s].exceptions[b.L]||0,t.subscribers[n][s].exceptions[b.L]++));t.topics[s].events_processed=t.topics[s].events_total-e,t.topics[s].events_unprocessed=e}}return JSON.parse(JSON.stringify(t))},wspr.name_map=()=>({subscriber_objects:"s",topic_objects:"T",process_topic_events:"I",process_topic_event:"E",subscribe_to_topic:"S",publish_message:"P",instance_id:"x",processing_retry_ms:"Z",all_subscribers_ready:"V",set_subscribers_ready:"R",processing_in_progress:"Y",callback_function:"Q",topic_events:"e",event_count:"C",event_subscribers:"W",get_object_entries:"X",persist:"U",topic_name:"O",processing_scheduled:"A",latest_attempt_start_ts:"D",first_attempt_start_ts:"F",subscriber_success:"G",attempts:"H",latest_attempt_end_ts:"J",latest_exception:"L",exceptions_count:"M",all_subscribers_successful:"N",self:"B",get_unix_timestamp:"q",subscriber_name:"w",created_ts:"f",message:"m"}),wspr.name_map_reversed=()=>{var e,s,r={};for([e,s]of Object.entries(wspr.name_map()))r[s]=e;return r},wspr.object_to_html=(e,s)=>{var r,t=typeof e;if("object"==t){var c,i,n=document.createElement("dl");for([c,i]of Object.entries(e)){var b,_,p=wspr.object_to_html(i,s);void 0!==p&&((b=document.createElement("dt")).innerText=s[c]||c,(_=document.createElement("dd")).appendChild(p),n.appendChild(b),n.appendChild(_))}return n}if("function"!=t)return"number"==t||"boolean"==t||"string"==t?((r=document.createElement("span")).innerText=""===e?"(not set)":e,r):((e=document.createElement("span")).innerText=t,e)},wspr.deep_copy=e=>JSON.parse(JSON.stringify(e)),wspr.set_expected_subscribers=e=>{for(const s of Object.keys(e))e[s]=new Set(e[s]);wspr.unsubscribed_expected_subscribers=e;wspr.S("#","subscribers_ready_check",e=>{var s;return"S"==e.m.e&&(s=e.m.O,e=e.m.w,wspr.unsubscribed_expected_subscribers[s]&&(wspr.unsubscribed_expected_subscribers[s].has(e)&&wspr.unsubscribed_expected_subscribers[s].delete(e),0==wspr.unsubscribed_expected_subscribers[s].size)&&delete wspr.unsubscribed_expected_subscribers[s],wspr.V||0!=Object.keys(wspr.unsubscribed_expected_subscribers).length||wspr.R()),!0})};